gplot( PaulRevereMat,
gmode="twomode",
usearrows=FALSE,
edge.col="grey60",
vertex.col = c(
rep( "#09852a", dim( PaulRevereMat )[1] ),
rep( "#dedbb8", dim( PaulRevereMat )[2] ) ),
edge.lwd=1.2
)
title( "Bipartite Matrix of Paul Revere Network", line = 1 )
# set the plot regions to ease with visualization
par(
mfrow = c( 2, 2 ),
mar = c( 2, 1, 4, 1)
)
# set the seed to reproduce the plot
set.seed( 507 )
# plot the bipartite network
gplot( PaulRevereMat,
gmode="twomode",
usearrows=FALSE,
edge.col="grey60",
vertex.col = c(
rep( "#34f772", dim( PaulRevereMat )[1] ),
rep( "#656ffc", dim( PaulRevereMat )[2] ) ),
edge.lwd=1.2
)
title( "Bipartite Matrix of Paul Revere Network", line = 1 )
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd=1.2,
vertex.col = "#34f772",
labels = namesP
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
# plot the group matrix
gplot( PaulRevereMatG,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd=1.2,
vertex.col = "#656ffc",
vertex.sides = 4,
labels = namesG
)
title( "Unipartite Projection of\n Locations (Group) Matrix", line = 1 )
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd=1.2,
vertex.col = "#34f772",
labels = namesP
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
# set the plot regions to ease with visualization
par(
mfrow = c( 2, 2 ),
mar = c( 2, 1, 4, 1)
)
# set the seed to reproduce the plot
set.seed( 507 )
# plot the bipartite network
gplot( PaulRevereMat,
gmode="twomode",
usearrows=FALSE,
edge.col="grey60",
vertex.col = c(
rep( "#34f772", dim( PaulRevereMat )[1] ),
rep( "#656ffc", dim( PaulRevereMat )[2] ) ),
edge.lwd=1.2
)
title( "Bipartite Matrix of Paul Revere Network", line = 1 )
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd=1.2,
vertex.col = "#34f772",
labels = namesP
)
# plot the bipartite network
gplot( PaulRevereMat,
gmode="twomode",
usearrows=FALSE,
edge.col="grey60",
vertex.col = c(
rep( "#34f772", dim( PaulRevereMat )[1] ),
rep( "#656ffc", dim( PaulRevereMat )[2] ) ),
edge.lwd=1.2
)
title( "Bipartite Matrix of Paul Revere Network", line = 1 )
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd=1.2,
vertex.col = "#34f772",
label = namesP
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
# plot the group matrix
gplot( PaulRevereMatG,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd=1.2,
vertex.col = "#656ffc",
vertex.sides = 4,
label = namesG
)
title( "Unipartite Projection of\n Locations (Group) Matrix", line = 1 )
par(mfrow = c(1,1,))
par(mfrow = c(1,1))
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd = PaulRevereMatP,
vertex.col = "#34f772",
label = namesP
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
table(PaulRevereMatP)
edge.rescale <- function( edges, low, high ){
min_w <- min( edges )
max_w <- max( edges )
rscl <- ( ( high-low )  * ( edges - min_w ) ) / ( max_w - min_w ) + low
rscl
}
# plot the bipartite network
gplot( PaulRevereMat,
gmode="twomode",
usearrows=FALSE,
edge.col="grey60",
edge.lwd = edge.rescale( PaulRevereMat, 0.1, 2 ),
vertex.col = c(
rep( "#34f772", dim( PaulRevereMat )[1] ),
rep( "#656ffc", dim( PaulRevereMat )[2] ) ),
edge.lwd=1.2
)
# plot the bipartite network
gplot( PaulRevereMat,
gmode="twomode",
usearrows=FALSE,
edge.col="grey60",
edge.lwd = edge.rescale( PaulRevereMat, 0.1, 2 ),
vertex.col = c(
rep( "#34f772", dim( PaulRevereMat )[1] ),
rep( "#656ffc", dim( PaulRevereMat )[2] ) )
)
a <- as.edgelist.matrix(PaulRevereMat)
a <- as.edgelist.matrix(PaulRevereNet, directed = FALSE, bipartite = TRUE)
a <- as.edgelist.matrix(PaulRevereNet)
?as.edgelist.sna
a <- as.edgelist(PaulRevereMat, force.bipartite = TRUE)
a <- as.edgelist(PaulRevereMat, force.bipartite = dim( PaulRevereMat )[1] )
a <- as.edgelist.sna(PaulRevereMat, force.bipartite = dim( PaulRevereMat )[1] )
a
a[,1:2]
PaulRevereNet
a <- as.edgelist.sna(PaulRevereMat, as.digraph = FALSE, force.bipartite = dim( PaulRevereMat )[1] )
dim(a)
668/2
b <- a[,1:334]
b <- a[,c(1:334)]
dim(a)
b <- a[1:334,]
head(b)
b <- a[1:334,1:2]
head(b)
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd = edge.rescale( PaulRevereMatP, 0.1, 2 ),
vertex.col = "#34f772",
label = namesP
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd = edge.rescale( PaulRevereMatP, 0.01, 2 ),
vertex.col = "#34f772"
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
a <- PaulRevereMatP
a <- as.edgelist( PaulRevereMatP)
help("as.edgelist", package = "network")
a <- as.edgelist( x = PaulRevereMatP, n = dim( PaulRevereMatP )[1] )
a
a <- as.edgelist( PaulRevereMatP, as.digraph = FALSE )
a <- as.edgelist.sna( PaulRevereMatP, as.digraph = FALSE )
a
dim( PaulRevereMatP )[1]
?as.edgelist.sna
head(PaulRevereMatP)
a
a[ , 1:2 ]
dim(a[ , 1:2 ])
dim(a[ , 3 ])
length(a[ , 3 ])
a[1:10,3]
edge.rescale <- function( edges, low, high ){
min_w <- min( edges )
max_w <- max( edges )
rscl <- ( ( high-low )  * ( edges - min_w ) ) / ( max_w - min_w ) + low
rscl
}
edge.rescale()
a <- edge.rescale(PaulRevereMatP)
a <- edge.rescale(PaulRevereMatP, 0.01, 3)
a
dim(a)
head(a)
min(a)
max(a)
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd = edge.rescale( PaulRevereMatP, 0.001, 3 ),
vertex.col = "#34f772"
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd = edge.rescale( PaulRevereMatP, 0, 3 ),
vertex.col = "#34f772"
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
ate an example matrix
A <- rbind(
c( 1,1,0,0,0 ),
c( 1,0,0,0,0 ),
c( 1,1,0,0,0 ),
c( 0,1,1,1,1 ),
c( 0,0,1,0,0 ),
c( 0,0,1,0,1 )
)
P <- A %*% t( A )
P
uniMat <- P
P
diag(uniMat) <- 0
uniMat
min(uniMat != 0)
min(uniMat[uniMat != 0])
max(uniMat[uniMat != 0])
edge.rescale <- function( uniMat, low, high ){
diag( uniMat ) <- 0
min_w <- min( uniMat[uniMat != 0] )
max_w <- max( uniMat[uniMat != 0] )
rscl <- ( ( high-low )  * ( edges - min_w ) ) / ( max_w - min_w ) + low
rscl
}
a <- edge.rescale(uniMat, 0.1, 4)
edge.rescale <- function( uniMat, low, high ){
diag( uniMat ) <- 0
min_w <- min( uniMat[uniMat != 0] )
max_w <- max( uniMat[uniMat != 0] )
rscl <- ( ( high-low )  * ( uniMat - min_w ) ) / ( max_w - min_w ) + low
rscl
}
a <- edge.rescale(uniMat, 0.1, 4)
a
edge.rescale <- function( uniMat, low, high ){
diag( uniMat ) <- 0
min_w <- min( uniMat[uniMat != 0] )
max_w <- max( uniMat[uniMat != 0] )
rscl <- ( ( high-low )  * ( uniMat[uniMat != 0] - min_w ) ) / ( max_w - min_w ) + low
rscl
}
a <- edge.rescale(uniMat, 0.1, 4)
a
gplot(uniMat, gmode = "graph", edge.lwd = a)
gplot(uniMat, gmode = "graph", edge.lwd = a, label = seq(1:6))
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd = edge.rescale( PaulRevereMatP, 0.01, 3 ),
vertex.col = "#34f772"
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
a <- edge.rescale( PaulRevereMatP, 0.01, 3 )
length(a)
b <- PaulRevereMatP
b <= 1 <- 1
b[b <= 1] <- 1
sum(b)
table(b)
b <- PaulRevereMatP
b[b >= 1] <- 1
sum(b)
a{1:10,1:10}
a[1:10,1:10]
a
length(a)
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd = edge.rescale( PaulRevereMatP, 0.0001, 10 ),
vertex.col = "#34f772"
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
table(PaulRevereMatP)
# plot the group matrix
gplot( PaulRevereMatG,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd = edge.rescale( PaulRevereMatG, 0.0001, 10 ),
vertex.col = "#656ffc",
vertex.sides = 4,
label = namesG
)
title( "Unipartite Projection of\n Locations (Group) Matrix", line = 1 )
# plot the group matrix
gplot( PaulRevereMatG,
gmode = "graph",
usearrows = FALSE,
edge.col="grey60",
edge.lwd = edge.rescale( PaulRevereMatG, 0, 10 ),
vertex.col = "#656ffc",
vertex.sides = 4,
label = namesG
)
title( "Unipartite Projection of\n Locations (Group) Matrix", line = 1 )
edge.shade <- function( uniMat ){
net.edges <- edge.rescale( uniMat, 0.01, 1 )
vec.to.color <- as.vector( abs( net.edges ) )
vec.to.color <- 1 - vec.to.color # subtract 1 to flip the grey function scale.
edge.cols <- grey( vec.to.color )
return( edge.cols )
}
ls()
b <- edges.shade( P)
b <- edge.shade( P)
b
P
table(P)
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
#edge.col="grey60",
edge.col = edges.shade( PaulRevereMatP ),
edge.lwd = edge.rescale( PaulRevereMatP, 0.0001, 10 ),
vertex.col = "#34f772"
)
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
#edge.col="grey60",
edge.col = edge.shade( PaulRevereMatP ),
edge.lwd = edge.rescale( PaulRevereMatP, 0.0001, 10 ),
vertex.col = "#34f772"
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
# set the plot regions to ease with visualization
par(
mfrow = c( 2, 2 ),
mar = c( 2, 1, 4, 1)
)
# set the seed to reproduce the plot
set.seed( 507 )
# plot the bipartite network
gplot( PaulRevereMat,
gmode="twomode",
usearrows=FALSE,
edge.col="grey60",
edge.lwd = 1.2,
vertex.col = c(
rep( "#34f772", dim( PaulRevereMat )[1] ),
rep( "#656ffc", dim( PaulRevereMat )[2] ) )
)
title( "Bipartite Matrix of Paul Revere Network", line = 1 )
# plot the person matrix
gplot( PaulRevereMatP,
gmode = "graph",
usearrows = FALSE,
edge.col = edge.shade( PaulRevereMatP ),
edge.lwd = edge.rescale( PaulRevereMatP, 0.0001, 10 ),
vertex.col = "#34f772"
)
title( "Unipartite Projection of\n Individuals (Person) Matrix", line = 1 )
# plot the group matrix
gplot( PaulRevereMatG,
gmode = "graph",
usearrows = FALSE,
edge.col = edge.shade( PaulRevereMatG ),
edge.lwd = edge.rescale( PaulRevereMatP, 0.0001, 10 ),
vertex.col = "#656ffc",
vertex.sides = 4,
label = namesG
)
title( "Unipartite Projection of\n Locations (Group) Matrix", line = 1 )
camMatP
edge.rescale( camMatP, 0.01, 3 )
# plot the person matrix
gplot( camMatP,
gmode = "graph",
usearrows = FALSE,
edge.col = edge.shade( camMatP ),
edge.lwd = edge.rescale( camMatP, 0.01, 3 ),
vertex.col = "#34e5eb"
)
title( "Unipartite Projection of\n Officers (Person) Matrix", line = 1 )
# set the plot regions to ease with visualization
par(
mfrow = c( 2, 2 ),
mar = c( 2, 1, 4, 1)
)
# set the seed to reproduce the plot
set.seed( 507 )
# plot the bipartite network
gplot( camMat,
gmode="twomode",
usearrows=FALSE,
edge.col="grey60",
vertex.col = c(
rep( "#34e5eb", dim( camMat )[1] ),
rep( "#4f0a1a", dim( camMat )[2] ) ),
edge.lwd=1.2
)
title( "Bipartite Matrix of Officers and Incidents", line = 1 )
# plot the person matrix
gplot( camMatP,
gmode = "graph",
usearrows = FALSE,
edge.col = edge.shade( camMatP ),
edge.lwd = edge.rescale( camMatP, 0.01, 3 ),
vertex.col = "#34e5eb"
)
title( "Unipartite Projection of\n Officers (Person) Matrix", line = 1 )
# plot the group matrix
gplot( camMatG,
gmode = "graph",
usearrows = FALSE,
edge.col = edge.shade( camMatG ),
edge.lwd = edge.rescale( camMatG, 0.01, 3 ),
vertex.col = "#4f0a1a",
vertex.sides = 4
)
title( "Unipartite Projection of\n Incidents (Group) Matrix", line = 1 )
# set the plot regions to ease with visualization
par(
mfrow = c( 2, 2 ),
mar = c( 2, 1, 4, 1)
)
# set the seed to reproduce the plot
set.seed( 507 )
# plot the bipartite network
gplot( camMat,
gmode="twomode",
usearrows=FALSE,
edge.col="grey60",
vertex.col = c(
rep( "#34e5eb", dim( camMat )[1] ),
rep( "#4f0a1a", dim( camMat )[2] ) ),
edge.lwd=1.2
)
title( "Bipartite Matrix of Officers and Incidents", line = 1 )
# plot the person matrix
gplot( camMatP,
gmode = "graph",
usearrows = FALSE,
edge.col = edge.shade( camMatP ),
edge.lwd = edge.rescale( camMatP, 0.1, 5 ),
vertex.col = "#34e5eb"
)
title( "Unipartite Projection of\n Officers (Person) Matrix", line = 1 )
# plot the group matrix
gplot( camMatG,
gmode = "graph",
usearrows = FALSE,
edge.col = edge.shade( camMatG ),
edge.lwd = edge.rescale( camMatG, 0.1, 5 ),
vertex.col = "#4f0a1a",
vertex.sides = 4
)
title( "Unipartite Projection of\n Incidents (Group) Matrix", line = 1 )
par(mfrow = c(1,1))
# plot the group matrix
gplot( camMatG,
gmode = "graph",
usearrows = FALSE,
edge.col = edge.shade( camMatG ),
edge.lwd = edge.rescale( camMatG, 0.1, 5 ),
vertex.col = "#4f0a1a",
vertex.sides = 4
)
title( "Unipartite Projection of\n Incidents (Group) Matrix", line = 1 )
